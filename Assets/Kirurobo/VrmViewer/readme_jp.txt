# UniWinC_VrmViewer Ver.0.8.1

## 概要

簡易的なVRMビューアーです。
[UniWinC](https://github.com/kirurobo/UniWindowController/) のデモです。


## 動作環境
- Windows 10
- macOS 10.13 以降(?)


## 使い方

起動後、キャラクターが表示されれば動作しています。


### ファイルの読み込み

* VRMファイル .vrm をドロップするとモデルを差し替えます。
* 読み込み直後はモデルの情報が表示されますので、確認してください。


### ウィンドウ操作

* マウスの左ボタンドラッグでウィンドウが移動します。
	最大化時は移動しません。
* 右クリックでメニューが表示されます。


### カメラ操作

* マウスの中ボタンドラッグで並進移動します。
* マウスの右ボタンドラッグでカメラが回転します。
* マウスのホイールでカメラ距離が前後します。


### 照明操作

* [Shift]を押しながらマウスの右ボタンドラッグで照明が回転します。
* [Shift]を押しながらマウスのホイール回転で照明の明るさが変化します。


### 詳細設定
* モーション ： 「ダンス」を選ぶと UNITE IN THE SKY のダンスを再生します。音が流れます
* 表情 ： ランダムのチェックを外すと表情自動変更が止まります。ドロップダウンとスライダーは今の表情の確認用です。
* 透明化 [T] キー ： ウィンドウ透過／通常を切り替えます
* 最前面 [O] キー ： ウィンドウを常に最前面／通常を切り替えます
* 最大化 [F] キー ： ウィンドウを最大化／通常を切り替えます
* ズーム方法 ： ホイールでのカメラズームでの画角に影響します
* 透明化方式 ： Windowsでは、「ColorKey」（OSの機能での単色透過）にすると、半透明が出せない代わりにタッチでの操作が自然になります。
* ヒットテスト方式 ： ウィンドウの後ろを操作するためのヒットテスト方式を切り替えます。


### ヒットテストについて
実は透過時もウィンドウは存在しています。
そこでマウスの下の“ヒットテスト”をして、後ろを操作できるようにしています。
このアプリは UniWinC のデモとして、選択できるようにしてあります。
「Opacity」は透明なところは透過する、感覚的には自然なモードです。
「Raycast」はUnity上でコライダーが設定されたところのみ掴めます。必ずしも見た目と一致しませんが、若干処理の負荷が減ります。
「None」はヒットテストを無効にします。透明な部分を特別視しません。操作ができなくなったら[Alt]+[Tab]などで別のアプリに切り替えてから戻してください。


## 既知の問題
* メニューはドラッグしてもウィンドウ移動はしません（仕様）
* VRMを読み込むとダンスは最初からになります
* BGMとダンスのタイミングはずれてしまうことがあります


## 作者

[@Kirurobo](https://twitter.com/kirurobo)
